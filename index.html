<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Puppy pillow fortress</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      font-family: comic sans, sans-serif;
      background-color: #6a0dad;
      color: white;
      overflow-x: hidden;
      cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32'%3E%3Ctext y='50%25' font-size='24'%3E%F0%9F%90%BE%3C/text%3E%3C/svg%3E") 0 0, auto;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 2em;
      text-align: center;
      position: relative;
      z-index: 1;
    }

    .textbox {
      background-color: rgba(255, 255, 255, 0.1);
      border: 2px solid white;
      border-radius: 15px;
      padding: 1em;
      margin: 1em 0;
    }

    img {
      max-width: 100%;
      height: auto;
      border-radius: 10px;
      margin: 1em 0;
    }

    .link-button,
    #bark-test {
      cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32'%3E%3Ctext y='50%25' font-size='24'%3E%F0%9F%9A%80%3C/text%3E%3C/svg%3E") 0 0, pointer;
      display: inline-block;
      margin: 0.5em;
      padding: 0.7em 1.4em;
      background-color: white;
      color: #6a0dad;
      font-weight: bold;
      border: 2px solid white;
      border-radius: 25px;
      text-decoration: none;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    .link-button:hover,
    #bark-test:hover,
    .sidebar-button:hover {
      background-color: #dabfff;
      color: #4b0082;
    }

    .sidebar-button {
      cursor: pointer;
      background-color: white;
      color: #6a0dad;
      font-weight: bold;
      border: 2px solid white;
      padding: 0.7em 1.2em;
      writing-mode: vertical-rl;
      text-orientation: mixed;
      
    }

    #blog-open {
  position: fixed;
  top: 40%;
  right: 0;
  z-index: 1001;
  border-radius: 15px 0 0 15px;
  writing-mode: vertical-rl;
  text-orientation: mixed;
}

    #visitor-open {
  position: fixed;
  top: 40%;
  left: 0;
  z-index: 1001;
  border-radius: 0 15px 15px 0;
  writing-mode: vertical-rl;
  text-orientation: mixed;
}

    #blog-panel, #visitor-panel {
      position: fixed;
      top: 0;
      height: 100%;
      width: clamp(300px, 70vw, 700px);
      background-color: #5a0080;
      transition: transform 0.4s ease;
      z-index: 1000;
      padding: 2em;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
    }

    #blog-panel { right: 0; transform: translateX(100%); }
    #visitor-panel { left: 0; transform: translateX(-100%); }
    #blog-panel.open { transform: translateX(0); }
    #visitor-panel.open { transform: translateX(0); }

    #blog-close, #visitor-close {
      background: white;
      color: #6a0dad;
      border: 2px solid white;
      font-weight: bold;
      border-radius: 10px;
      padding: 0.5em 1em;
      margin-bottom: 1em;
      cursor: pointer;
    }

    #cookie-popup {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: white;
      color: #6a0dad;
      border: 2px solid #dabfff;
      border-radius: 15px;
      padding: 1em 2em;
      box-shadow: 0 0 15px rgba(0,0,0,0.4);
      z-index: 10001;
      text-align: center;
    }

    #cookie-popup button {
      margin: 1em 1em 0 1em;
      padding: 0.5em 1.2em;
      font-weight: bold;
      background-color: #dabfff;
      color: #4b0082;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }

    #blur-overlay {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0, 0, 0, 0.3);
      backdrop-filter: blur(5px);
      z-index: 9999;
      display: none;
    }

    #volume-wrapper {
      margin-top: 1em;
    }

    #volume-icon {
      font-size: 1.5em;
      margin-top: 0.5em;
    }

    #volume-control {
      width: 80%;
      margin-top: 0.3em;
      accent-color: #dabfff;
    }

    #volume-label {
      font-size: 1em;
      margin-top: 0.5em;
      display: block;
    }

    #visitor-form {
      display: flex;
      flex-direction: column;
      gap: 0.5em;
      margin-bottom: 1em;
    }

    #visitor-form input {
      padding: 0.5em;
      border-radius: 10px;
      border: none;
      font-size: 1em;
    }

    #visitor-form button {
      background: #dabfff;
      color: #4b0082;
      border: none;
      padding: 0.5em;
      border-radius: 10px;
      font-weight: bold;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div id="blur-overlay"></div>
  <audio id="bark-sound" preload="auto">
    <source src="mimi-the-puppy-barks.mp3" type="audio/mp3">
  </audio>

  <button id="blog-open" class="sidebar-button">üìì Blog</button>
  <button id="visitor-open" class="sidebar-button">üìñ Visitor</button>

  <!-- Blog Panel -->
  <div id="blog-panel">
    <button id="blog-close">‚ùå Close</button>
    <h2>üìì Blog Posts</h2>
    <div class="textbox">
      <p><strong>10 May 2025:</strong> Web design is difficult üêæ</p>
    </div>
  </div>

  <!-- Visitor Panel -->
  <div id="visitor-panel">
    <button id="visitor-close">‚ùå Close</button>
    <h2>üìñ Visitor Book</h2>
    <form id="visitor-form">
      <input type="text" id="visitor-message" maxlength="100" placeholder="Write a short message..." required>
      <button type="submit">Submit</button>
    </form>
    <div id="visitor-entries"></div>
  </div>

  <div id="cookie-popup">
  <p><strong>I like cookies :3</strong></p>
  <div>
    <button id="cookie-no" type="button">no (leave page)</button>
    <button id="cookie-yes" type="button">yes I do</button>
  </div>
</div>

  <div class="container">
    <h1>Puppy pillow fortress</h1>
    <img src="IMG_9672(1).png" alt="Kiki snoot" />

    <div class="textbox">
      <h2>About Me</h2>
      <p>Hello! I am Nele the succubus puppy girl.<br>
        I do a lot of lewd things so minors do not Interact |
        I am a committed anti-fascist and Communist | I'm trans and on Estrogen since 04.02.2025üè≥Ô∏è‚Äç‚ößÔ∏è |
        I am considering myself as Sapphic/bi though I definitely prefer Women | I am poly and happily married |
        üíú Purple is my favourite colour | üöÄ Rockets are pretty cool I guess |
        üîåüöó Electric car enthusiast, currently have a Tesla Model Y (fuck Elon) and a 95‚Äô Mazda Miata |
        üöÇ Train enthusiast | fuck elon musk | be yourself especially if it's weird</p>
    </div>

    <div class="textbox">
  <h2>Links</h2>
  <a class="link-button" href="https://discord.gg/Jhj2znHaEB" target="_blank">Discord Server</a>
  <a class="link-button" href="https://bsky.app/profile/nele.pet" target="_blank">Bluesky</a>
  <a class="link-button" href="https://www.tumblr.com/nele-likes-stuff" target="_blank">Tumblr</a>
  <a class="link-button" href="https://www.reddit.com/user/CapFuture_/" target="_blank">Reddit</a>
</div>

<div class="textbox">
  <h2>Playlist Vibes</h2>
  <iframe style="border-radius:12px"
    src="https://open.spotify.com/embed/playlist/2wjQcW9o0hHiWqchz5XuzF?utm_source=generator&theme=0"
    width="100%" height="352" frameBorder="0" allowfullscreen=""
    allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
    loading="lazy">
  </iframe>
</div>

<div class="textbox">
  <h2>üîä Bark intensity </h2>
  <button id="bark-test">Test Bark</button>
  <div id="volume-wrapper">
    <div id="volume-icon">üîä</div>
    <input type="range" id="volume-control" min="0" max="100" step="1">
    <div id="volume-label">Volume: Bark</div>
  </div>
</div>

<img src="https://placebear.com/600/300" alt="Cute bear" />
  </div>

  <script>
const supabase = supabase.createClient('https://lglcvsptwkqxykapepey.supabase.co', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxnbGN2c3B0d2txeHlrYXBlcGV5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwNzQ1NDcsImV4cCI6MjA2MjY1MDU0N30.ci7v2g-5wixuPKnG6wUUO87AsbI1bQ8wzRnHHG9QzIQ');

async function submitMessage(msg) {
  const ipRes = await fetch('https://api64.ipify.org?format=json');
  const ip = (await ipRes.json()).ip;

  const { data: existing } = await supabase.from('visitor_book').select('id').eq('ip', ip);
  if (existing.length > 0) {
    alert("You've already submitted a message!");
    return;
  }

  const { error } = await supabase.from('visitor_book').insert({ message: msg, ip });
  if (error) {
    alert("Submission failed.");
    console.error(error);
  } else {
    alert("Thanks for your message!");
    loadMessages();
  }
}

async function loadMessages() {
  const { data, error } = await supabase.from('visitor_book').select('message, created_at').order('created_at', { ascending: false });
  if (error) return console.error(error);
  visitorEntries.innerHTML = data.map(entry => `<p><em>${new Date(entry.created_at).toLocaleString()}:</em> ${entry.message}</p>`).join('');
}

const bark = document.getElementById('bark-sound');
const barkTest = document.getElementById('bark-test');
const cookiePopup = document.getElementById('cookie-popup');
const cookieYes = document.getElementById('cookie-yes');
const cookieNo = document.getElementById('cookie-no');
const blogPanel = document.getElementById('blog-panel');
const blogOpen = document.getElementById('blog-open');
const blogClose = document.getElementById('blog-close');
const volumeControl = document.getElementById('volume-control');
const volumeLabel = document.getElementById('volume-label');
const volumeIcon = document.getElementById('volume-icon');
const blurOverlay = document.getElementById('blur-overlay');
const visitorOpen = document.getElementById('visitor-open');
const visitorClose = document.getElementById('visitor-close');
const visitorPanel = document.getElementById('visitor-panel');
const visitorForm = document.getElementById('visitor-form');
const visitorMessage = document.getElementById('visitor-message');
const visitorEntries = document.getElementById('visitor-entries');

let barksEnabled = false;

function playBark() {
  if (!barksEnabled) return;
  bark.load();
  bark.currentTime = 0;
  bark.play().catch(err => console.warn("Bark playback failed", err));
}

function updateVolumeDisplay(vol) {
  if (vol <= 33) {
    volumeLabel.textContent = 'Volume: Arf';
    volumeIcon.textContent = 'üîà';
  } else if (vol <= 66) {
    volumeLabel.textContent = 'Volume: Woof';
    volumeIcon.textContent = 'üîâ';
  } else {
    volumeLabel.textContent = 'Volume: Bark';
    volumeIcon.textContent = 'üîä';
  }
}

cookieYes?.addEventListener('click', () => {
  const popup = document.getElementById('cookie-popup');
  const blur = document.getElementById('blur-overlay');

  if (popup && blur) {
    popup.style.display = 'none';
    blur.style.display = 'none';
    barksEnabled = true;
  }
});

cookieNo?.addEventListener('click', () => {
  alert('You declined cookies. Redirecting...');
  window.location.href = 'https://www.google.com/search?q=cookies';
});

barkTest.addEventListener('click', playBark);
document.querySelectorAll('.link-button, #blog-open, #blog-close, #visitor-open, #visitor-close').forEach(btn => {
  btn.addEventListener('click', playBark);
});

blogOpen.addEventListener('click', () => {
  blogPanel.classList.add('open');
});

blogClose.addEventListener('click', () => {
  blogPanel.classList.remove('open');
});

visitorOpen.addEventListener('click', () => {
  visitorPanel.classList.add('open');
  loadMessages();
});

visitorClose.addEventListener('click', () => {
  visitorPanel.classList.remove('open');
});

visitorForm.addEventListener('submit', (e) => {
  e.preventDefault();
  const msg = visitorMessage.value.trim();
  if (msg.length > 0) submitMessage(msg);
});

const savedVol = localStorage.getItem('barkVolume') || 100;
volumeControl.value = savedVol;
bark.volume = savedVol / 100;
updateVolumeDisplay(savedVol);
volumeControl.addEventListener('input', () => {
  const vol = volumeControl.value;
  bark.volume = vol / 100;
  localStorage.setItem('barkVolume', vol);
  updateVolumeDisplay(vol);
});

cookieYes.addEventListener('click', () => {
  barksEnabled = true;
  cookiePopup.style.display = 'none';
  blurOverlay.style.display = 'none';
});

cookieNo.addEventListener('click', () => {
  window.location.href = 'https://www.google.com/search?q=cookies';
});

blurOverlay.style.display = 'block';
cookiePopup.style.display = 'block';
</script>
</body>
</html>
